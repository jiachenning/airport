<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<link type="text/css" rel="stylesheet" href="http://cdn.sencha.io/ext/beta/4.2.0.265/resources/css/ext-all.css">
<script type="text/javascript" src="http://cdn.sencha.io/ext/beta/4.2.0.265/ext-all-dev.js"></script>
<script type="text/javascript">
Ext.onReady(function() {
    
    var store = Ext.create('Ext.data.TreeStore', {
        proxy: {
            type: 'ajax',
            url: 'groups/findByParentId'
        },
        root: {
            text: '组织机构',
            id: 1,
            expanded: true
        }
    });

    var tree = Ext.create('Ext.tree.Panel', {
        title: '组织机构',
        region: 'west',
        width: 300,
        bodyPadding: 3,
        collapsible: true,
        split: true,
        margin: '0 0 0 4',
        useArrows: true,
        store: store,
        dockedItems: {
            xtype: 'toolbar',
            items: [{
                text: '全部展开',
                handler: function() {
                    tree.expandAll();
                }
            },'-',{
                text: '全部折叠',
                handler: function() {
                    tree.collapseAll();
                }
            }]
        }
    });

    var usergrid = Ext.create('Ext.grid.Panel', {
        region: 'center',
        title: '用户列表',
        columnLines: true,
        columns: [{
            text: '用户名'
        },{
            text: '密码'
        },{
            text: '年龄'
        },{
            text: '出生年月'
        },{
            text: '是否启用',
            flex: 1
        }],
        dockedItems: {
            xtype: 'pagingtoolbar',
            displayInfo: true,
            dock: 'bottom'
        }
    });

    Ext.create('Ext.container.Viewport', {
        layout: 'border',
        items: [{
            region: 'north',
            xtype: 'toolbar',
            margin: '0 0 4 0',
            items: ['->', {
                text: '注销',
                handler: function() {
                    location.replace('j_spring_security_logout');
                }
            }]
        }, tree, usergrid, {
            region: 'south',
            xtype: 'toolbar',
            items: '万达信息股份有限公司版权所有v1.0',
            margin: '4 0 0 0'
        }]
    });

});
</script>
</head>
<body>
</body>
</html>
